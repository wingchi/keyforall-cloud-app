<!DOCTYPE html>
<html>
<head>
    <title>Play With The Cloud</title>
</head>

<body>
                <h1 class="title-alice">Play With The Cloud</h1>
                    <a href="#" id="red">Red</a>
                    <a href="#" id="orange">Orange</a>
                    <a href="#" id="yellow">Yellow</a>
                    <a href="#" id="green">Green</a>
                    <a href="#" id="blue">Blue</a>
                    <a href="#" id="violet">Violet</a>
<br>
                    Manual:<input id="rgbValue" value="#ffffff">
                    <input id="sendRGB" type=button value="Send RGB">
            <hr>
            <h3> Control the Cloud </h3>
               <input id="battVoltage"> Volts <input id="updateVolts" type=button value="Update"><br>
               <input id="shutdown" type=button value="Shutdown">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="//cdn.jsdelivr.net/sparkjs/0.5.9/spark.min.js"></script>
        <script>
            var device = null;
            spark.login({accessToken: '77933a6e5091994441fa37f60019f8833e757f18'});
            spark.getDevice('28002c000c47343233323032', function(err, thisdevice) {
              console.log('Device name: ' + thisdevice.name);
              device = thisdevice
            });
            

            $('#red').click(function(){
                console.log("You clicked red");
                //$.post("https://api.particle.io/v1/devices/28002c000c47343233323032/leds", { access_token: "77933a6e5091994441fa37f60019f8833e757f18", args: "#ff0000" }).done(function(data) {
                //        console.log("result: " + data)
                //    });
                device.callFunction('leds', 'red', function(err, data) {
                  if (err) {
                     console.log('An error occurred:', err);
                  } else {
                    console.log('Function called succesfully:', data); 
                  }
                });
            });

            $('#orange').click(function(){
                console.log("You clicked orange");
                device.callFunction('leds', 'orange', function(err, data) {
                  if (err) {
                     console.log('An error occurred:', err);
                  } else {
                    console.log('Function called succesfully:', data); 
                  }
                });

                //$.post("https://api.particle.io/v1/devices/28002c000c47343233323032/leds", { access_token: "77933a6e5091994441fa37f60019f8833e757f18", args: "orange" }, function(data) {
                //        console.log("result: " + data)
                //    }, "json");
            });
            
            $('#yellow').click(function(){
                console.log("You clicked yellow");
                device.callFunction('leds', 'yellow', function(err, data) {
                  if (err) {
                     console.log('An error occurred:', err);
                  } else {
                    console.log('Function called succesfully:', data); 
                  }
                });
            });

            $('#green').click(function(){
                console.log("You clicked green");
                device.callFunction('leds', 'green', function(err, data) {
                  if (err) {
                     console.log('An error occurred:', err);
                  } else {
                    console.log('Function called succesfully:', data); 
                  }
                });
            });

            $('#blue').click(function(){
                console.log("You clicked blue");
                device.callFunction('leds', 'blue', function(err, data) {
                  if (err) {
                     console.log('An error occurred:', err);
                  } else {
                    console.log('Function called succesfully:', data); 
                  }
                });
            });

            $('#violet').click(function(){
                console.log("You clicked violet");
                device.callFunction('leds', 'violet', function(err, data) {
                  if (err) {
                     console.log('An error occurred:', err);
                  } else {
                    console.log('Function called succesfully:', data); 
                  }
                });
            });
            $('#sendRGB').click(function(){
                console.log("You clicked sendRGB");
                device.callFunction('leds', $('#rgbValue'), function(err, data) {
                  if (err) {
                     console.log('An error occurred:', err);
                  } else {
                    console.log('Function called succesfully:', data); 
                  }
                });
            });
            $('#updateVolts').click(function(){
                console.log("You clicked updateVolts");
                device.getVariable('battVolts', function(err, data) {
                  if (err) {
                     console.log('An error occurred:', err);
                  } else {
                     console.log('Got Voltage as:', data); 
		     $('#battVolts').value = data
                  }
                });
            });
            $('#shutdown').click(function(){
                console.log("You clicked shutdown");
                device.callFunction('poweroff', '', function(err, data) {
                  if (err) {
                     console.log('An error occurred:', err);
                  } else {
                    console.log('Function called succesfully:', data); 
                  }
                });
            });
        </script>
    </div>
</body>

</html>
